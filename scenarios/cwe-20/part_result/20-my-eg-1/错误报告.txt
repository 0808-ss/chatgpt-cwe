建议对此进行改进，例如增加对输入的 quantity 参数的验证，以确保其始终为非负值，并在检测到负值时，明确地返回错误或异常，以更好地通知调用方发生了什么问题，从而防止敏感数据暴露。